Todo App

Описание

Приложение Todo App — это серверное приложение, созданное на Go, которое использует PostgreSQL для хранения данных и предоставляет API для управления задачами. Приложение построено с использованием модульной архитектуры и включает уровни репозитория, сервиса и обработчика для обеспечения высокой читабельности и масштабируемости кода.

Технологии

Язык программирования: Go

База данных: PostgreSQL

HTTP-сервер: кастомный сервер с маршрутизацией через Gin

Логирование: logrus

Управление конфигурацией: viper

Переменные окружения: godotenv

Библиотека подключения к PostgreSQL: lib/pq

Установка

1. Клонируйте репозиторий

git clone <URL вашего репозитория>
cd todo-app

2. Настройте конфигурацию

Создайте папку configs и добавьте файл config.yaml со следующим содержимым:

db:
  host: "localhost"
  port: "5432"
  username: "postgres"
  password: "password"
  dbname: "todoapp"
  sslmode: "disable"
port: ":8000"

3. Установите зависимости

Убедитесь, что у вас установлен Go. Затем выполните:

go mod tidy

4. Настройте переменные окружения

Создайте файл .env в корне проекта:

DB_PASSWORD=qwerty

5. Запустите приложение

go run main.go

Работа приложения

Основные возможности

Регистрация и авторизация пользователей

Создание, чтение, обновление и удаление списков задач

Управление задачами в рамках списков

Структура проекта

main.go: точка входа в приложение

pkg/repository: взаимодействие с базой данных

pkg/service: бизнес-логика приложения

pkg/handler: обработчики HTTP-запросов

configs: конфигурационные файлы

API

Документация API доступна по адресу /docs после запуска сервера. Документация включает все доступные маршруты и их параметры.

Остановка сервера

Приложение поддерживает обработку системных сигналов SIGTERM и SIGINT для корректного завершения работы сервера и закрытия соединений с базой данных.

Сборка Docker

Приложение можно развернуть с использованием Docker Compose. Для этого создайте файл docker-compose.yml и настройте сервисы:

version: '3.9'
services:
  todo-app:
    build: ./
    ports:
      - "8000:8000"
    depends_on:
      db:
        condition: service_healthy
    environment:
      DB_PASSWORD: qwerty

  db:
    image: postgres:latest
    restart: always
    healthcheck:
      test: ["CMD", "pg_isready", "-U", "postgres"]
      interval: 10s
      timeout: 5s
      retries: 5
    volumes:
      - ./.database/postgres/data:/var/lib/postgresql/data
    environment:
      POSTGRES_PASSWORD: qwerty
    ports:
      - "5436:5432"

Запустите приложение командой:

docker-compose up

Контакты

Если у вас есть вопросы или предложения, пожалуйста, свяжитесь с автором проекта.